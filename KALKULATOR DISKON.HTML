<html class="scroll-smooth" lang="id">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Kalkulator Diskon
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Inter', sans-serif;
    }
  </style>
 </head>
 <body class="bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 min-h-screen flex items-center justify-center p-4">
  <main class="bg-white bg-opacity-90 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full p-8">
   <h1 class="text-3xl font-semibold text-center text-indigo-700 mb-6">
    Kalkulator Diskon
   </h1>
   <form class="space-y-6" id="discountForm">
    <div>
     <label class="block text-gray-700 font-medium mb-2" for="originalPrice">
      Harga Asli (Rp)
     </label>
     <input class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition" id="originalPrice" min="0" placeholder="Masukkan harga asli" required="" step="1000" type="number"/>
    </div>
    <div>
     <label class="block text-gray-700 font-medium mb-2" for="discountPercent">
      Persentase Diskon (%)
     </label>
     <input class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition" id="discountPercent" max="100" min="0" placeholder="Masukkan persentase diskon" required="" step="0.1" type="number"/>
    </div>
    <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg shadow-md transition flex items-center justify-center gap-2" type="submit">
     <i class="fas fa-calculator">
     </i>
     Hitung Diskon
    </button>
   </form>
   <section aria-live="polite" class="mt-8 bg-indigo-50 rounded-lg p-6 text-center hidden" id="resultSection">
    <p class="text-lg text-indigo-700 font-semibold" id="discountAmount">
    </p>
    <p class="text-xl font-bold text-indigo-900 mt-2" id="finalPrice">
    </p>
   </section>
   <figure class="mt-10 flex justify-center">
    <img alt="Ilustrasi orang berbelanja dengan tanda diskon besar berwarna cerah" class="rounded-xl shadow-lg" height="150" loading="lazy" src="https://storage.googleapis.com/a1aa/image/6ceefd7a-5e42-4e40-a69f-a918177241c2.jpg" width="200"/>
   </figure>
  </main>
  <script>
   const form = document.getElementById('discountForm');
    const discountAmountEl = document.getElementById('discountAmount');
    const finalPriceEl = document.getElementById('finalPrice');
    const resultSection = document.getElementById('resultSection');

    function formatRupiah(number) {
      return new Intl.NumberFormat('id-ID', {
        style: 'currency',
        currency: 'IDR',
        minimumFractionDigits: 0,
      }).format(number);
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const originalPrice = parseFloat(
        document.getElementById('originalPrice').value
      );
      const discountPercent = parseFloat(
        document.getElementById('discountPercent').value
      );

      if (
        isNaN(originalPrice) ||
        isNaN(discountPercent) ||
        originalPrice < 0 ||
        discountPercent < 0 ||
        discountPercent > 100
      ) {
        alert('Mohon masukkan nilai yang valid.');
        return;
      }

      const discountAmount = (originalPrice * discountPercent) / 100;
      const finalPrice = originalPrice - discountAmount;

      discountAmountEl.textContent = `Jumlah Diskon: ${formatRupiah(
        discountAmount
      )}`;
      finalPriceEl.textContent = `Harga Setelah Diskon: ${formatRupiah(
        finalPrice
      )}`;

      resultSection.classList.remove('hidden');
      resultSection.scrollIntoView({ behavior: 'smooth' });
    });
  </script>
 </body>
</html>
